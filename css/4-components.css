/*  ========================================
    5️⃣ COMPONENTS
    ======================================== */
/* Buttons, cards, modals, alerts, badges, etc. */

/* Buttons */
.btn {
  display: inline-block;
  padding: var(--space-1) var(--space-3);
  cursor: pointer;
  text-decoration: none;
  border-radius: var(--radius-sm);
  text-align: center;
  font-weight: var(--fw-bold);
}

/* Size variations */
.btn--sm {
  font-size: var(--fs-small);
  padding: var(--space-1) var(--space-2);
}

/* Variations Hierarchy */

.btn--primary {
  background-color:var(--surface-interactive-primary); 
  color: var(--text-color-button);
}

.btn--primary:hover {
  background-color:var(--surface-interactive-primary-hover); 
  transform: translateY(-1px);
  transition: all 0.3s ease;
  color: var(--text-color-button);
}

.btn--primary:focus-visible {
  background-color:var(--surface-interactive-primary); 
  color: var(--text-color-button);
  outline: var(--border-width-interactive) solid var(--border-color-interactive);
  outline-offset: 2px;
}

.btn--secondary {
  background-color: var(--surface-interactive-secondary);
  border: var(--border-width-interactive) solid var(--border-color-interactive);
  color: var(--text-color-button);
}

.btn--secondary:hover {
  background: var(--surface-interactive-secondary-hover);
  transform: translateY(-1px);
  transition: all 0.3s ease;
  color: var(--text-color-primary-strong);
}

.btn--secondary:focus-visible {
  background: var(--surface-interactive-secondary-hover);
  outline: var(--border-width-interactive) solid var(--border-color-interactive);
  outline-offset: 2px;
}

/* --- Cards --- */
.card {
  border-radius: var(--radius-md);
  background-color: var(--surface-card);
  box-shadow: var(--shadow-md);
  transition: transform 0.3s ease;
  padding-block-start: var(--space-3);
  padding-block-end: var(--space-4);
  padding-inline: var(--space-3);
  display: flex; /* ← AÑADE ESTO */
  flex-direction: column; /* ← Y ESTO */
  height: 100%; /* ← Para que todas tengan la misma altura */
  gap: var(--space-3);
}

.card-content {
  flex: 1; /* To Ocupar all the available */
}

.grid-cards {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: var(--space-4);
  align-items: stretch;
}

.card-justify-between {
  justify-content: space-between;
}

.card h3 {
  margin-top: var(--space-1);
  margin-bottom: var(--space-2);
}

.card p {
  margin: var(--space-2) 0 !important;
}

/* Code / Citation card */
.card-code {
  display: flex;
  flex-direction:column;
  border-radius: var(--radius-md);
  background: var(--surface-code);
  overflow: hidden;
  border: var(--border-width-separator) solid var(--border-color-subtle);
}

.code-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  background: var(--surface-code-header);
  padding: 0rem var(--space-2);
}

.code {
  display: flex;
  align-items: center;
  gap: var(--space-1);
  font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
  font-size: var(--fs-small);
  font-weight: var(--fw-bold);
  margin: 0;
}

.copy-btn {
  display: inline-flex;
  align-items: center;
  gap: var(--space-1);
  padding: var(--space-1);
  position: relative;
  font-size: var(--fs-small);
  font-weight: var(--fw-semibold);
  cursor: pointer;
  color: var(--text-color-button);
  border-radius: var(--radius-sm);
  background-color: transparent;
  border: none;
}

.copy-btn:hover {
  color: var(--text-color-interactive-hover);
  background-color: var(--surface-link-interaction);
}

.copy-btn:focus-visible {
  border: var(--border-width-interactive) solid (var(--border-color-interactive));
    background-color: var(--surface-link-interaction);
    outline-offset: 2px;
}

/* SVG hereda el color del botón */
.copy-icon {
  color: inherit; /* Hereda del .copy-btn */
}

.copy-icon path {
  fill: currentColor; /* Usa el color heredado */
}

/* --- Success check icon --- */
.copy-icon-success {
  width: 16px;
  height: 16px;
  display: none;
  stroke: var(--color-success);
  stroke-width: 2;
  fill: none;
  animation: popIn 0.25s ease forwards;
}

/* When copied, show check icon */
.copy-btn.copied .copy-icon-success {
  display: inline;
}

/* Hide normal icon + label */
.copy-btn.copied .copy-icon,
.copy-btn.copied .copy-text,
.copied-feedback {
  display: none;
}

/* Show “Copied!” with animation */
.copy-btn.copied .copied-feedback {
  display: inline;
  color: var(--color-success);
  animation: fadeUp 0.25s ease forwards;
}

.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* -------- Animations -------- */
@keyframes popIn {
  0% { transform: scale(0); opacity: 0; }
  80% { transform: scale(1.2); opacity: 1; }
  100% { transform: scale(1); }
}

@keyframes fadeUp {
  0% { opacity: 0; transform: translateY(3px); }
  100% { opacity: 1; transform: translateY(0); }
}

/* --- Show icon + "Copy" normally --- */
.copy-icon {
  width: 1rem;
  height: 1rem;
}

.code-content {
  padding: var(--space-2);
}

.code-content pre {
  margin: 0;
  font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
  font-size: var(--fs-small);
  line-height: var(--line-height-base);
  overflow-x: auto;
}

/* Scroll horizontal for code card */
.code-content pre::-webkit-scrollbar {
  height: 6px;
}

.code-content pre::-webkit-scrollbar-track {
  background: var(--surface-neutral-4);
  border-radius: var(--radius-sm);
}

.code-content pre::-webkit-scrollbar-thumb {
  background: var(--surface-neutral-5);
  border-radius: var(--radius-sm);
}

pre {
  padding: var(--space-1);
  border-radius: var(--radius-md);
  overflow-x: auto; /* <-- evita que se salga del contenedor */
  font-size: var(--fs-body);
  line-height: var(--line-height-base);
}

/* Table: Book versions (desktop & responsive transform to cards) */
table {
  border-spacing: 0;
}

/* Table conntainer */
.versions-table-container {
  background: var(--surface-table-container);
  border: var(--border-width-separator) solid var(--border-color-subtle);
  border-radius: var(--radius-md);
  overflow: hidden; /* <-- add to clip rounded corners */
}

/* Table - Desktop */
.versions-table {
  width: 100%;
  border-collapse: separate;
  overflow: hidden; /* ensure header/background is clipped to radius */
}

.versions-table .btn--secondary {
  width: 100%;
}

.versions-table thead {
  background: var(--surface-table-header);
  border-radius: var(--radius-md);
}

/* give the table head rounded top corners */
.versions-table thead th:first-child {
  border-top-left-radius: var(--radius-md);
}

.versions-table thead th:last-child {
  border-top-right-radius: var(--radius-md);
  /* ensure background doesn't bleed under rounded corners */
  background-clip: padding-box;
}

.versions-table th {
  font-size: var(--fs-small);
  padding: var(--space-2) var(--space-3);
  text-align: left;
  font-weight: var(--fw-semibold);
}

/* Filas y celdas */
.versions-table td {
  padding: var(--space-2) var(--space-3);
  border-bottom: var(--border-width-separator) solid var(--border-color-subtle);
}

.versions-table tbody tr:last-child td {
  border-bottom: none;
}

/* Badge de versión */
.badge {
  display: inline-block;
  padding: var(--space-1) var(--space-2);
  border-radius: var(--radius-lg);
  background-color: var(--surface-subtle);
  font-weight: var(--fw-bold);
  font-size: var(--fs-small);
  color: var(--text-color-on-decorative);
  text-align: center;
}

.version-tag {
  font-weight: var(--fw-bold);
  font-size: var(--fs-small);
}

/* Date */
.version-date {
  font-weight: var(--fw-semibold);
  font-size: var(--fs-small);
  white-space: nowrap;
}

/* Description */
.version-description {
  font-size: var(--fs-small);
  margin: 0;
}

/* Botón de descarga */
.download-cell {
  text-align: center;
}

/* Table: Versions (desktop & responsive transform to cards) */

/* Tablet */
@media (max-width: 1024px) {
    .versions-table th,
    .versions-table td {
      padding: var(--space-1) var(--space-2);;
    }

    .versions-table-container {
        border-radius: var(--radius-md);
        margin: var(--space-2) 0;
    }
    
    /* Ocultar encabezados en móvil */
    .versions-table thead {
        display: none;
    }
    
    /* Convertir tabla en tarjetas */
    .versions-table,
    .versions-table tbody,
    .versions-table tr,
    .versions-table td {
        display: block;
        /* width: 100%;*/
    }
    
    .versions-table tr {
        display: flex;
        flex-direction: column;
        padding: var(--space-1) var(--space-3);
        border-bottom: var(--border-width-separator) solid var(--border-color-subtle);
        position: relative;
    }
    
    .versions-table tr:last-child {
        border-bottom: none;
    }
    
    .versions-table td {
        padding: var(--space-1) 0;
        display: flex;
        justify-content: space-between;
        align-items: center;
        border: none;
    }
    
    /* Mostrar labels usando data-label */
    .versions-table td::before {
      content: attr(data-label);
      font-weight: var(--fw-semibold);
    }
    
    /* Excepciones para algunas celdas */
    .download-cell::before {
      display: none;
    }
    
    .download-cell {
      justify-content: center;
      margin-top: var(--space-2);
      padding-top: var(--space-2);
      border-top: 1px solid var(--surface-neutral-4);
    }
    
    .btn--secondary {
      width: 100%;
      justify-content: center;
    }
}

/* Author block */
.author-photo {
  width: 14rem;
  height: 14rem;
  object-fit: cover;
}

.author-photo-text {
  gap: var(--space-4);
  align-items: center;
  display: flex;
}

.no-text-margin {
  margin: var(--space-1) 0rem !important;
}

/* Mobile: column */
@media (max-width: 992px) {
  .author-photo-text {
    flex-direction: column;
    gap: var(--space-2);
  }
  
  .author-photo-text .author-photo {
    max-width: 10rem;
    height: auto;
  }
}
